<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Home - Classroom</title>
    <link rel="icon" href="./Google_Classroom_Logo.png" />
    <link rel="stylesheet" href="./cloneclass/classroom.css" />
    
    <style>
      /* --- ADDED SYSTEM CSS (Required for the games to show) --- */
      #game-overlay {
        display: none;
        position: fixed;
        top: 0; left: 0;
        width: 100%; height: 100%;
        background: black;
        z-index: 999999;
      }
      #game-frame { width: 100%; height: 100%; border: none; }
      .hidden { display: none !important; }
      
      #panic-corner {
        position: fixed;
        top: 0; left: 0;
        width: 15px; height: 15px;
        z-index: 1000000;
        cursor: pointer;
        background: transparent;
      }
    </style>
  </head>
  <body>
    <div id="panic-corner" onclick="exitToHome()"></div>

    <div id="classroom-ui">
      <header>
        <div class="header-content">
          <div class="header-left">
            <button class="icon-btn">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <line x1="3" y1="12" x2="21" y2="12"></line>
                <line x1="3" y1="6" x2="21" y2="6"></line>
                <line x1="3" y1="18" x2="21" y2="18"></line>
              </svg>
            </button>
            <div class="logo-container">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 333333 287879" width="32" height="32" shape-rendering="geometricPrecision" text-rendering="geometricPrecision" image-rendering="optimizeQuality" fill-rule="evenodd" clip-rule="evenodd">
                <path fill="#0f9d58" d="M30303 30303h272727v227273H30303z" />
                <path d="M227272 151515c9407 0 17046-7639 17046-17045 0-9407-7639-17046-17046-17046-9406 0-17045 7639-17045 17046 0 9406 7639 17045 17045 17045zm0 11364c-18245 0-37879 9659-37879 21654v12437h75758v-12437c0-11995-19634-21654-37879-21654zm-121212-11364c9406 0 17045-7639 17045-17045 0-9407-7639-17046-17045-17046-9407 0-17046 7639-17046 17046 0 9406 7639 17045 17046 17045zm0 11364c-18245 0-37879 9659-37879 21654v12437h75758v-12437c0-11995-19634-21654-37879-21654z" fill="#57bb8a" />
                <path d="M166667 136364c12563 0 22727-10164 22727-22728 0-12563-10164-22727-22727-22727s-22727 10164-22727 22727 10164 22728 22727 22728zm0 15151c-25568 0-53030 13573-53030 30303v15152h106061v-15152c0-16730-27462-30303-53030-30303z" fill="#f7f7f7" />
                <path fill="#f1f1f1" d="M196970 242424h68182v15152h-68182z" />
                <path d="M310606 0H22727C10164 0 0 10164 0 22727v242424c0 12563 10164 22727 22727 22727h287879c12563 0 22727-10164 22727-22727V22727C333333 10164 323169 0 310606 0zm-7576 257576H30302V30304h272728v227272z" fill="#f4b400" />
              </svg>
              <span class="logo-text">Classroom</span>
            </div>
          </div>
          <div class="header-right">
            <button class="icon-btn">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <line x1="12" y1="5" x2="12" y2="19"></line>
                <line x1="5" y1="12" x2="19" y2="12"></line>
              </svg>
            </button>
            <div class="profile-pic">A</div>
          </div>
        </div>
      </header>

      <div class="main-layout">
        <aside class="sidebar">
          <nav>
            <button class="nav-btn active"><span>Classes</span></button>
            <button class="nav-btn inactive"><span>Calendar</span></button>
            <button class="nav-btn inactive"><span>To-do</span></button>
            <div class="sidebar-divider"></div>
            <div class="sidebar-section">
              <p class="sidebar-section-title">Enrolled</p>
              <button class="class-item"><div class="class-color bg-blue-600"></div><span>Math-7A</span></button>
              <button class="class-item"><div class="class-color bg-green-600"></div><span>ELA 7A</span></button>
            </div>
          </nav>
        </aside>

        <main class="main-content">
          <div class="content-container">
            <div class="classes-grid" id="classesGrid"></div>
            <div class="stream-container">
              <div class="tabs">
                <button class="tab active" onclick="switchTab('stream')">Stream</button>
                <button class="tab" onclick="switchTab('classwork')">Classwork</button>
                <button class="tab" onclick="switchTab('people')">People</button>
              </div>
              <div class="stream-content" id="streamContent"></div>
            </div>
          </div>
        </main>
      </div>
    </div>
    <div id="game-overlay">
      <iframe id="game-frame" src=""></iframe>
    </div>

    <script src="./cloneclass/classroom.js"></script>

    <script>
      const classroomUI = document.getElementById('classroom-ui');
      const overlay = document.getElementById('game-overlay');
      const frame = document.getElementById('game-frame');

      let lastKey = "";
      let lastTime = 0;

      window.addEventListener('keydown', function(e) {
        const currentTime = new Date().getTime();
        const key = e.key.toLowerCase();

        if (lastKey === "/") {
          const keyMap = {
            'u': './Cornelius Commands/UniUB.html',
            'p': './Cornelius Commands/Petezah.html',
            'f': './Cornelius Commands/Frogies.html',
            'g': './Cornelius Commands/game-page.html',
            'r': './Cornelius Commands/Reds.html',
            '5': './Cornelius Commands/US5.html',
            '.': './Cornelius Commands/guide.html',
            'i': './Cornelius Commands/about-blank.html',
            'e': './Cornelius Commands/endis.html'
            'x': './Cornelius Commands/proxy.html'
          };

          if (keyMap[key]) {
            e.preventDefault();
            launch(keyMap[key]);
          } else if (key === 'h') {
            e.preventDefault();
            exitToHome();
          }
        }

        lastKey = e.key;
        lastTime = currentTime;

        setTimeout(() => {
          if (new Date().getTime() - lastTime >= 1000) { lastKey = ""; }
        }, 1000);
      }, true);

      function launch(file) {
        if(!file) return;
        classroomUI.classList.add('hidden');
        overlay.style.display = 'block';
        frame.src = file;
        document.title = "Assignment - Google Classroom";
        window.focus();
      }

      function exitToHome() {
        overlay.style.display = 'none';
        classroomUI.classList.remove('hidden');
        frame.src = ""; 
        document.title = "Home - Classroom";
        window.focus();
      }
    </script>
  </body>
</html>
